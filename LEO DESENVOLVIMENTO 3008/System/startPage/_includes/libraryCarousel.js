var mycarousel_itemList = [
	{site: "http://www.formica.com.br/", title: "Formica", url: "parceiro_formica.gif"},
	{site: "http://www.masisa.com.br/", title: "Masisa", url: "parceiro_masisa.gif"},
	{site: "http://www.arauco.com.br/", title: "Arauco", url: "parceiro_arauco.gif"},
	{site: "http://www.eucatex.com.br/", title: "Eucatex", url: "parceiro_eucatex.gif"},
	{site: "http://www.duratex.com.br/", title: "Duratex", url: "parceiro_duratex.gif"},
	{site: "http://www.lopar.com.br/", title: "Lopar", url: "parceiro_lopar.gif"},
	{site: "http://www.tramontina.com.br/", title: "Tramontina", url: "parceiro_tramontina.png"},
	{site: "http://www.falmec.com.br/", title: "Falmec", url: "parceiro_falmec.gif"},
	{site: "http://www.smeg.com.br/", title: "Smeg", url: "parceiro_smeg.gif"},
	{site: "http://www.electrolux.com.br/", title: "Electrolux", url: "parceiro_electrolux.gif"},
	{site: "http://www.persol.com.br/", title: "Persol", url: "parceiro_persol.gif"},
	{site: "http://www.franke.com.br/pt/", title: "Franke", url: "parceiro_franke.gif"},
	{site: "http://www.lofra.it/", title: "Lofra", url: "parceiro_lofra.gif"},
	{site: "http://www.boscheletrodomesticos.com.br/", title: "Bosch", url: "parceiro_bosch.gif"},
	{site: "http://www.arix.com.br/", title: "Arix", url: "parceiro_arix.gif"},	
	{site: "http://www.crissair.com.br/", title: "Crissair", url: "parceiro_crissair.gif"},
        {site: "http://www.hettich.com.br/", title: "Hettich", url: "parceiro_hettich.gif"},
	{site: "http://www.mekal.com.br/", title: "Mekal", url: "parceiro_mekal.gif"},
	{site: "http://www.blum.com/", title: "Blum", url: "parceiro_blum.gif"},
	{site: "http://www.debacco.com.br/", title: "De Bacco", url: "parceiro_debacco.gif"},
	{site: "http://www.incomaq.com.br/", title: "Incomaq", url: "parceiro_incomaq.gif"},
	{site: "http://www.reval.com.br/", title: "Reval", url: "parceiro_reval.gif"},
	{site: "http://www.masutticopat.com.br/", title: "Masutti Copat", url: "Parceiro_Masutti_Copat.png"},
	{site: "http://www.rubinettos.com.br/", title: "Rubinettos", url: "parceiro_rubinettos.gif"},
	{site: "http://www.zendesign.com/", title: "Zen", url: "parceiro_zen.gif"},
        {site: "http://www.ancezki.com/", title: "Ancezki", url: "parceiro_ancezki.gif"},
        {site: "http://www.brastemp.com.br/", title: "Brastemp", url: "parceiro_brastemp.gif"},
	{site: "http://www.suggar.com.br/", title: "Suggar", url: "parceiro_suggar.gif"},
	{site: "http://www.tecnovidro.com.br/", title: "Saint Claire", url: "parceiro_saintclaire.gif"},
	{site: "http://www.sultecmoveis.com.br/", title: "Sultec", url: "parceiro_sultec.gif"},
      	{site: "http://www.usitop.com.br/", title: "Usitop", url: "parceiro_usitop.gif"},
	{site: "http://www.moveisbrasilpost.com.br/", title: "Brasil Post", url: "parceirobrasilpost.gif"},
	{site: "http://www.madelustre.com.br/", title: "Madelustre", url: "logomadelustre.png"},
	{site: "http://www.alumiglass.com.br/", title: "Alumiglass", url: "parceiro_Alumiglass.gif"},
	{site: "http://www.casavitra.com.br/", title: "Casavitra", url: "parceiro_casavitra.gif"},
	{site: "http://www.guararapes.com.br/", title: "Guararapes", url: "parceiro_guararapes.png"},
	{site: "http://www.fgvtn.com.br/", title: "FGVTN", url: "parceiro_fgvtn.png"},
	{site: "http://www.aramadosjomer.com.br/", title: "Jomer", url: "parceiro_jomer.png"},
	{site: "http://www.geprofile.com.br/", title: "GE Profile", url: "logo_ge_profile.png"},
	{site: "http://www.geeletrodomesticos.com.br/", title: "GE", url: "logo_ge.png"},
	{site: "http://www.gemonogram.com.br/", title: "GE Monogram", url: "logo_ge_monogram.png"},
	{site: "http://www.continental.com.br/", title: "Continental", url: "logo_continental.png"},
	{site: "http://www.continentalone.com.br/", title: "Continental One", url: "logo_continental_one.png"},	
	{site: "http://www.promob.com/", title: "Finesse", url: "parceiro_finesse.gif"},
	{site: "http://www.catabrasil.com.br/", title: "Cata", url: "logo_Cata.jpg"},
	{site: "http://www.portabille.com.br", title: "Portabille", url: "logo_portabille.png"},
	{site: "http://www.cadence.com.br", title: "Cadence", url: "parceiro_cadence.png"},
	{site: "http://www.duranox.com.br", title: "Duranox", url: "parceiro_duranox.png"},
	{site: "http://www.roncalidecor.com.br", title: "Roncali", url: "parceiro_Roncali.png"},	
	{site: "http://www.consul.com.br", title: "Consul", url: "parceiro_consul.png"},
	{site: "http://www.maxdecor.com.br/", title: "Max Decor", url: "parceiro_MaxDecor.png"},	
	{site: "http://www.obispa.com.br", title: "Obispa", url: "parceiro_obispa.png"},		
	{site: "http://www.esquadrimed.com.br", title: "Esquadrimed", url: "parceiro_Esquadrimed.png"},	
	{site: "http://www.wphome.com.br", title: "WP – DuPont Corian®", url: "parceiro_wp.png"},		
	{site: "http://www.ezdoor.com.br", title: "Ez'door", url: "parceiro_ezdoor.png"},
	{site: "http://www.mondialeacrilicos.com.br", title: "Mondiale Acrílicos", url: "parceiro_mondiale.png"},		
	{site: "http://www.fischer.com.br", title: "Fischer", url: "parceiro_fischer.png"},	
	{site: "http://www.accordiluminacao.com.br", title: "Accord Iluminação", url: "parceiro_Accord_Logo.png"},		
];

var list = [];
var listR = [];

function IndexOf(list, obj) {
	for (var i = 0; i < list.length; i++) {
		if (list[i] == obj) return i;
	}
	return -1;
}

function mycarousel_itemVisibleInCallback(carousel, item, i, state, evt) {
	console.log('mycarousel_itemVisibleInCallback');
	var idx = carousel.index(Math.floor((1 + mycarousel_itemList.length) * Math.random()), mycarousel_itemList.length);
	if (idx >= mycarousel_itemList.length) idx = mycarousel_itemList.length - 1;
	var c = 0;
	//while (listR.indexOf(idx) >= 0) {
	while (IndexOf(listR, idx) >= 0) {
		if (c >= 10)
			break;
		idx = carousel.index(Math.floor((1 + mycarousel_itemList.length) * Math.random()), mycarousel_itemList.length);
		if (idx >= mycarousel_itemList.length) idx = mycarousel_itemList.length - 1;
	}

	//var idx = carousel.index(i, mycarousel_itemList.length);
	listR.push(idx);
	list.push(i);

	var item = mycarousel_getItemHTML(mycarousel_itemList[idx - 1]);
	if (!item)
		alert(idx);
	carousel.add(i, item);
};

function mycarousel_itemVisibleOutCallback(carousel, item, i, state, evt) {
	console.log('mycarousel_itemVisibleOutCallback');
	//var idx = list.indexOf(i);
	var idx = IndexOf(list, i);

	listR.splice(idx, 1);
	list.splice(idx, 1);

	carousel.remove(i);
};


function mycarousel_itemLoadCallback(carousel, state) {
	console.log('mycarousel_itemLoadCallback');
	for (var i = carousel.first; i <= carousel.last; i++) {
		if (carousel.has(i)) {
			continue;
		}

		if (i > mycarousel_itemList.length) {
			break;
		}
		var idx = i;
		carousel.add(idx, mycarousel_getItemHTML(mycarousel_itemList[idx - 1]));
	}
};

function mycarousel_getItemHTML(item) {
	if (item)
		return '<a href="' + item.site + '" target="_blank" alt="' + item.title + '"><img src="../identity/' + item.url + '" width="40" height="40" title="' + item.title + '" alt="' + item.title + '" border="0" /></a>';
};

jQuery(document).ready(function () {
	jQuery('#mycarousel').jcarousel({
		vertical: false,
		auto: 3,
		scroll: 5,
		wrap: 'both',
		size: mycarousel_itemList.length,
		itemLoadCallback: { onBeforeAnimation: mycarousel_itemLoadCallback },
		itemVisibleInCallback: { onBeforeAnimation: mycarousel_itemVisibleInCallback },
		itemVisibleOutCallback: { onAfterAnimation: mycarousel_itemVisibleOutCallback }
	});
});